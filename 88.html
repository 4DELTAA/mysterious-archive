<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hidden Archive</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background: #0f1110;
  color: #d6f5e3;
  font-family: "Courier New", monospace;
  margin:0;
}

.container { max-width: 900px; margin:auto; padding:50px 20px; }

h1 { text-align:center; color:#7fffc1; margin-bottom:60px; }

.section {
  margin-bottom:50px;
  padding:20px;
  border:1px dashed rgba(127,255,193,0.3);
  background: rgba(10,14,12,0.9);
}

h2 { color:#9affc8; margin-bottom:12px; }

.spoiler {
  background: rgba(0,0,0,0.2);
  padding:10px;
  cursor:pointer;
  text-align:center;
  user-select:none;
  overflow:hidden;
  position: relative;
}

.spoiler iframe {
  display:none;
  margin-top:10px;
  width:100%;
  height:460px;
  border:none;
  opacity:0;
  transition: opacity 1s ease-in-out;
}

.spoiler.glitch::after {
  content: "▌▌▌";
  position: absolute;
  top: 5px; left: 10px;
  color:#ff9a9a;
  animation: flicker 0.1s infinite;
}

@keyframes flicker {
  0%,100% {opacity:1;}
  50% {opacity:0;}
}

.error-fake {
  color:#ff6a6a;
  font-weight:bold;
  animation: glitch 0.2s infinite;
}

@keyframes glitch {
  0% { transform: translate(0); }
  25% { transform: translate(-1px,1px); }
  50% { transform: translate(1px,-1px); }
  75% { transform: translate(-1px,0); }
  100% { transform: translate(0); }
}

.ending {
  white-space: pre-line;
  background: rgba(0,0,0,0.35);
  padding:16px;
  border-left:3px solid #7fffc1;
}

.footer { text-align:center; opacity:0.4; margin-top:70px; }
</style>
</head>
<body>

<div class="container">
<h1>Hidden Archive</h1>

<div class="section">
  <h2>The Beginning</h2>
  <div class="spoiler" onclick="toggleSpoiler(this)">
    Click to reveal
    <iframe src="https://www.youtube.com/embed/Mg0yid5vbRc" allowfullscreen></iframe>
  </div>
</div>

<div class="section">
  <h2>The Second Coming</h2>
  <div class="spoiler" onclick="toggleSpoiler(this)">
    Click to reveal
    <iframe src="https://www.youtube.com/embed/V-EtXn2h3qA" allowfullscreen></iframe>
  </div>
</div>

<div class="section">
  <h2>Residual Noise</h2>
  <div class="spoiler" onclick="toggleSpoiler(this)">
    Click to reveal
    <iframe src="https://www.youtube.com/embed/jknp7khNAbk" allowfullscreen></iframe>
  </div>
</div>

<div class="section">
  <h2>DELT4</h2>
  <div class="spoiler" onclick="toggleSpoiler(this)">
    Click to reveal
    <iframe src="https://www.youtube.com/embed/CqmtTeHgO2E" allowfullscreen></iframe>
  </div>
</div>

<div class="section">
  <h2>Last One. For Now</h2>
  <div class="spoiler" onclick="toggleSpoiler(this)">
    Click to reveal
    <iframe src="https://www.youtube.com/embed/KBoQu7vkF5A" allowfullscreen></iframe>
  </div>
</div>

<!-- Fake 6th video -->
<div class="section">
  <h2>Work in Progress</h2>
  <div class="spoiler" onclick="fakeVideo(this)">
    Click to reveal
    <div class="error-fake" style="display:none;">⚠ VIDEO CORRUPTED ⚠</div>
  </div>
</div>

<div class="section">
  <h2>Afterword</h2>
  <div id="ending" class="ending">…</div>
</div>

<div class="footer">88</div>
</div>

<script>
function toggleSpoiler(el){
  const iframe = el.querySelector("iframe");
  if(!iframe) return;
  el.classList.add("glitch");
  if(iframe.style.display === "block") {
    iframe.style.display = "none";
    iframe.style.opacity = 0;
  } else {
    iframe.style.display = "block";
    setTimeout(()=>{ iframe.style.opacity = 1; }, 50);
    setTimeout(()=>{ el.classList.remove("glitch"); }, 900); // glitch effect while fading
  }
}

// Fake 6th video effect
function fakeVideo(el){
  const error = el.querySelector(".error-fake");
  error.style.display = "block";
  let flicker = 0;
  const interval = setInterval(()=>{
    error.style.opacity = flicker % 2 === 0 ? 1 : 0.3;
    flicker++;
    if(flicker > 12) clearInterval(interval);
  },150);
}

// Personalized ending
const name = (localStorage.getItem("archive_name") || "").toLowerCase();
const endings = {
  mimi:"You didn’t need proof.\nYou already knew.",
  mie:"You didn’t need proof.\nYou already knew.",
  saga:"Context matters.\nYou noticed.",
  aloise:"Predictable.\nIn a good way.",
  snoopy:"Curiosity can hurt.\nYou kept going anyway.",
  dorian:"Statistically improbable.\nYet here you are.",
  leafy:"Statistically improbable.\nYet here you are.",
  alex:"Time compounds.\nSo do friendships.",
  ares:"Time compounds.\nSo do friendships.",
  xia:"Stubborn as always.\nStill here.",
  mona:"Sweet and awkward.\nClues come eventually.",
  mochi:"Sweet and awkward.\nClues come eventually."
};
document.getElementById("ending").innerText = endings[name] || "If you reached this,\nthen the archive wanted you here.";
</script>

</body>
</html>
